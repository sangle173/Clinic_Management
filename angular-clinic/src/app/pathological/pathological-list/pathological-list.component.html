<div class="container">
  <table id="example" class="table table-hover table-striped mt-5">
    <thead>
    <tr>
      <td colspan="7" class="bg-dark text-white text-center">
        <h3>Quản Lý Bệnh Lý</h3>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <input style="width: 50%" class="form-control mb-2" type="search" autofocus #searchKeyword
               (change)="getAllPathological(searchKeyword.value)" placeholder="Tìm kiếm..." aria-label="Search">
      </td>
      <td class="text-center">
        <button data-toggle="modal" data-target=".bd-example-modal-lg" class="btn btn-primary"><i class="fa fa-plus"
                                                                                                  aria-hidden="true"></i>
          Thêm Mới
        </button>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th>Tên Bệnh Lý</th>
      <th>Khác</th>
    </tr>
    </thead>
    <ng-container *ngIf="messageError != ''; else elseBlock">
      <tbody>
      <tr>
        <td colspan="7" class="text-center">
          <span class="text-danger">{{messageError}}</span>
        </td>
      </tr>
      </tbody>
    </ng-container>
    <ng-template #elseBlock>
      <tbody>
      <tr *ngFor="let pathological of pathologicalList | slice: (page-1) * pageSize : page * pageSize;index as i">
        <td style="width: 5%">{{i + 1}}</td>
        <td>{{pathological.pathologicalName}}</td>
        <td style="width: 20%">
          <a href="" class="mr-2"><i class="fa fa-pencil text-warning" style="font-size: 1.5rem" aria-hidden="true"></i></a>
          <a href="" class="text-danger" data-toggle="modal" data-target="#exampleModal"
             (click)="sendIdToComponent(pathological.id)">
            <i class="fa fa-trash-o text-danger" style="font-size: 1.5rem" aria-hidden="true"></i></a>
        </td>
      </tr>
      </tbody>
    </ng-template>
  </table>
  <div class="clearfix">
    <div class="hint-text">Hiển thị <b>{{pageSize}}</b> trên <b>{{collectionSize}}</b> Bệnh Lý</div>
    <ngb-pagination class="d-flex justify-content-end"
                    [(page)]="page"
                    [pageSize]="pageSize"
                    [collectionSize]="collectionSize"
                    [maxSize]="5"
                    [rotate]="true"
                    [ellipses]="true"
                    [boundaryLinks]="true">
      <ng-template ngbPaginationFirst>Trang đầu</ng-template>
      <ng-template ngbPaginationLast>Trang cuối</ng-template>
      <ng-template ngbPaginationEllipsis>...</ng-template>
      <ng-template ngbPaginationNumber let-page>{{ page }}</ng-template>
    </ngb-pagination>
    <hr>
  </div>
</div>

<!--add new modal-->
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-info text-white">
        <h5 class="modal-title" id="myExtraLargeModalLabel">Thêm Mới Bệnh Lý</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="createForm" (ngSubmit)="submit()">
          <div class="col-12">
            <div class="form-group">
              <label for="name" class="col-form-label">Tên Bệnh Lý: <span class="text-danger">*</span></label>
              <input type="text" class="form-control" formControlName="pathologicalName" id="name">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
            <button type="submit" id="btnSave" class="btn btn-primary">Tạo Bệnh Lý
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!--delete modal-->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-danger">
        <h4 class="modal-title w-100 text-center text-white" id="exampleModalLabel">Xóa Thuốc </h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Bạn có chắc chắn muốn xóa? <span
          style
            ="color: red">{{pathologicalDelete}}</span>?</p>
      </div>
      <div
        class
          ="modal-footer">
        <button
          type
            ="button" class="btn btn-secondary" data-dismiss="modal">Hủy bỏ
        </button>
        <button type="button" class="btn btn-danger" (click)="deletePathological()" data-dismiss="modal">
          Xóa
        </button>
      </div>
    </div>
  </div>
</div>
<ngx-bootstrap-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="default"
  color="#fff"
  type="border"
  loadingText="Đang tải dữ liệu..."
>
</ngx-bootstrap-spinner>

